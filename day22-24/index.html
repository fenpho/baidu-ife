<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style type="text/css">
    section {
      padding: 20px;
      border-top: 1px solid #ccc;
    }

    button {
      display: block;
      margin: 20px;
    }
  </style>
</head>

<body>
  <section>
    <div>
      <label>Number A:
        <input id="radio-a" type="radio" name="math-obj" value="a">
      </label>
      <input id="num-a" type="text">
      <label>Number B:
        <input id="radio-b" type="radio" name="math-obj" value="b">
      </label>
      <input id="num-b" type="text">
    </div>
    <div>
      <button>判断当前选中的输入框输入内容是否为数字</button>
      <button>把 A 四舍五入为 B 个小数位数的数字</button>
      <button>当前选中数字的绝对值</button>
      <button>对当前选中的数字进行上舍入</button>
      <button>对当前选中的数字进行下舍入</button>
      <button>把当前选中的数字四舍五入为最接近的整数</button>
      <button>返回 A 和 B 中的最高值</button>
      <button>返回 A 和 B 中的最低值</button>
    </div>
    <p id="operation-type"></p>
    <p id="result"></p>
  </section>

  <section>
    <div>
      <label>String A:
        <input id="radio-a1" type="radio" checked="true" name="str-obj" value="a">
      </label>
      <textarea id="str-a"></textarea>
      <label>String B:
        <input id="radio-b1" type="radio" name="str-obj" value="b">
      </label>
      <textarea id="str-b"></textarea>
      <label>Num A：
        <input id="num-a1" type="number" value="0">
      </label>
      <label>Num B：
        <input id="num-b1" type="number" value="1">
      </label>
    </div>
    <div>
      <button>获取当前选中输入的内容长度</button>
      <button>当前选中输入中的第3个字符</button>
      <button>把两个输入框的文字连接在一起输出（concat）</button>
      <button>输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）</button>
      <button>输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）</button>
      <button>使用slice获取选中输入框内容的部分内容，参数为num-a及num-b</button>
      <button>当前选中输入框的行数</button>
      <button>使用substr获取选中输入框内容的子字符串，参数为num-a及num-b</button>
      <button>把所选输入框中的内容全部转为大写</button>
      <button>把所选输入框中的内容全部转为小写</button>
      <button>把所选输入框中内容的半角空格全部去除</button>
      <button>把所选输入框中内容的a全部替换成另外一个输入框中的内容</button>
    </div>
    <p id="operation-type1"></p>
    <p id="result1"></p>
  </section>

  <script>
    // common
    var buttonGroup = document.getElementsByTagName('button');
    // section 1
    var radioA = document.getElementById('radio-a');
    var radioB = document.getElementById('radio-b');
    var numberA = document.getElementById('num-a');
    var numberB = document.getElementById('num-b');
    var operationType = document.getElementById("operation-type");
    var result = document.getElementById('result');
    // section 2
    var radioA1 = document.getElementById('radio-a1');
    var radioB1 = document.getElementById('radio-b1');
    var numberA1 = document.getElementById('num-a1');
    var numberB1 = document.getElementById('num-b1');
    var stringA = document.getElementById('str-a');
    var stringB = document.getElementById('str-b');
    var operationType1 = document.getElementById("operation-type1");
    var result1 = document.getElementById('result1');

    // 每个按钮点击报数
    for (var i = 0; i < buttonGroup.length; i++) {
      buttonGroup[i].addEventListener('click', function (i) {
        return function () {
          operation(i);
        }
      }(i));
    }

    function operation(type) {
      if (i < 8) {
        operationType.innerHTML = '当前状态是：' + buttonGroup[type].textContent;
      } else {
        operationType1.innerHTML = '当前状态是：' + buttonGroup[type].textContent;
      }
      switch (type) {
        case 0:
          { // 判断当前选中的输入框输入内容是否为数字
            // var timer = setInterval(function () {
            if (radioA.checked) {
              if (numberA.value === '') {
                result.textContent = '当前选中的输入框的内容为空！';
                return false;
              }
              checkInput(numberA.value) ? result.textContent = '当前选中的输入框的内容不是数字！' : result.textContent =
                '当前选中的输入框的内容是数字！';
            } else if (radioB.checked) {
              if (numberB.value === '') {
                result.textContent = '当前选中的输入框的内容为空！';
                return false;
              }
              checkInput(numberB.value) ? result.textContent = '当前选中的输入框的内容不是数字！' : result.textContent =
                '当前选中的输入框的内容是数字！';
            } else {
              result.textContent = '当前未选中的任何输入框！';
            }
            // }, 200);
          };
          break;
        case 1:
          { // 把 A 四舍五入为 B 个小数位数的数字
            result.textContent = '';
            if (numberA.value === '') {
              result.textContent = 'A输入框的内容为空！';
              return false;
            }
            if (numberB.value === '') {
              result.textContent = 'B输入框的内容为空！';
              return false;
            }
            try {
              if (checkInput(numberA.value)) {
                throw 'A输入框的内容不是数字！';
              }
              if (checkInput(numberB.value)) {
                throw 'B输入框的内容不是数字！';
              }
              result.textContent = Number(numberA.value).toFixed(Math.abs(Number(numberB.value)));
            } catch (error) {
              console.log(error);
            }
          };
          break;
        case 2:
          { // 当前选中数字的绝对值
            result.textContent = '';
            if (radioA.checked) {
              if (numberA.value === '') {
                result.textContent = '当前选中的输入框的内容为空！';
                return false;
              }
              try {
                if (checkInput(numberA.value)) {
                  throw 'A输入框的内容不是数字！';
                }
                result.textContent = Math.abs(Number(numberA.value));
              } catch (error) {
                console.log(error);
              }
            } else if (radioB.checked) {
              if (numberB.value === '') {
                result.textContent = '当前选中的输入框的内容为空！';
                return false;
              }
              try {
                if (checkInput(numberB.value)) {
                  throw 'A输入框的内容不是数字！';
                }
                result.textContent = Math.abs(Number(numberB.value));
              } catch (error) {
                console.log(error);
              }
            } else {
              result.textContent = '当前未选中的任何输入框！';
            }
          };
          break;
        case 3:
          { // 对当前选中的数字进行上舍入
            result.textContent = '';
            if (radioA.checked) {
              if (numberA.value === '') {
                result.textContent = '当前选中的输入框的内容为空！';
                return false;
              }
              try {
                if (checkInput(numberA.value)) {
                  throw 'A输入框的内容不是数字！';
                }
                result.textContent = Math.ceil(Number(numberA.value));
              } catch (error) {
                console.log(error);
              }
            } else if (radioB.checked) {
              if (numberB.value === '') {
                result.textContent = '当前选中的输入框的内容为空！';
                return false;
              }
              try {
                if (checkInput(numberB.value)) {
                  throw 'A输入框的内容不是数字！';
                }
                result.textContent = Math.ceil(Number(numberB.value));
              } catch (error) {
                console.log(error);
              }
            } else {
              result.textContent = '当前未选中的任何输入框！';
            }
          };
          break;
        case 4:
          { // 对当前选中的数字进行下舍入
            result.textContent = '';
            if (radioA.checked) {
              if (numberA.value === '') {
                result.textContent = '当前选中的输入框的内容为空！';
                return false;
              }
              try {
                if (checkInput(numberA.value)) {
                  throw 'A输入框的内容不是数字！';
                }
                result.textContent = Math.floor(Number(numberA.value));
              } catch (error) {
                console.log(error);
              }
            } else if (radioB.checked) {
              if (numberB.value === '') {
                result.textContent = '当前选中的输入框的内容为空！';
                return false;
              }
              try {
                if (checkInput(numberB.value)) {
                  throw 'A输入框的内容不是数字！';
                }
                result.textContent = Math.floor(Number(numberB.value));
              } catch (error) {
                console.log(error);
              }
            } else {
              result.textContent = '当前未选中的任何输入框！';
            }
          };
          break;
        case 5:
          { // 把当前选中的数字四舍五入为最接近的整数
            result.textContent = '';
            if (radioA.checked) {
              if (numberA.value === '') {
                result.textContent = '当前选中的输入框的内容为空！';
                return false;
              }
              try {
                if (checkInput(numberA.value)) {
                  throw 'A输入框的内容不是数字！';
                }
                result.textContent = Math.round(Number(numberA.value));
              } catch (error) {
                console.log(error);
              }
            } else if (radioB.checked) {
              if (numberB.value === '') {
                result.textContent = '当前选中的输入框的内容为空！';
                return false;
              }
              try {
                if (checkInput(numberB.value)) {
                  throw 'A输入框的内容不是数字！';
                }
                result.textContent = Math.round(Number(numberB.value));
              } catch (error) {
                console.log(error);
              }
            } else {
              result.textContent = '当前未选中的任何输入框！';
            }
          };
          break;
        case 6:
          { // 返回 A 和 B 中的最高值
            result.textContent = '';
            if (numberA.value === '') {
              result.textContent = 'A输入框的内容为空！';
              return false;
            }
            if (numberB.value === '') {
              result.textContent = 'B输入框的内容为空！';
              return false;
            }
            try {
              if (checkInput(numberA.value)) {
                throw 'A输入框的内容不是数字！';
              }
              if (checkInput(numberB.value)) {
                throw 'B输入框的内容不是数字！';
              }
              result.textContent = Math.max(Number(numberA.value), Number(numberB.value));
            } catch (error) {
              console.log(error);
            }
          };
          break;
        case 7:
          { // 返回 A 和 B 中的最低值
            result.textContent = '';
            if (numberA.value === '') {
              result.textContent = 'A输入框的内容为空！';
              return false;
            }
            if (numberB.value === '') {
              result.textContent = 'B输入框的内容为空！';
              return false;
            }
            try {
              if (checkInput(numberA.value)) {
                throw 'A输入框的内容不是数字！';
              }
              if (checkInput(numberB.value)) {
                throw 'B输入框的内容不是数字！';
              }
              result.textContent = Math.min(Number(numberA.value), Number(numberB.value));
            } catch (error) {
              console.log(error);
            }
          };
          break;
        case 8:
          { // 获取当前选中输入的内容长度
            result1.textContent = '';
            if (radioA1.checked) {
              result1.textContent = stringA.value.length;
            } else if (radioB1.checked) {
              result1.textContent = stringB.value.length;
            } else {
              result.textContent = '当前未选中的任何输入框！';
            }
          };
          break;
        case 9:
          { // 当前选中输入中的第3个字符
            result1.textContent = '';
            if (radioA1.checked) {
              result1.textContent = stringA.value[2];
            } else if (radioB1.checked) {
              result1.textContent = stringB.value[2];
            } else {
              result.textContent = '当前未选中的任何输入框！';
            }
          };
          break;
        case 10:
          { // 把两个输入框的文字连接在一起输出（concat）
            result1.textContent = '';
            result1.textContent = stringA.value.concat(stringB.value);
          };
          break;
        case 11:
          { // 输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）
            result1.textContent = '';
            var temp = stringA.value.indexOf(stringB.value);
            result1.textContent = temp !== -1 ? '输入B中的内容，在输入A的内容中第一次出现的位置是：' + temp : '输入B中的内容，在输入A的内容中不存在';
          };
          break;
        case 12:
          { // 输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）
            result1.textContent = '';
            var temp = stringA.value.lastIndexOf(stringB.value);
            result1.textContent = temp !== -1 ? '输入B中的内容，在输入A的内容中第一次出现的位置是：' + temp : '输入B中的内容，在输入A的内容中不存在';
          };
          break;
        case 13:
          { // 使用slice获取选中输入框内容的部分内容，参数为num-a及num-b
            result1.textContent = '';
            if (radioA1.checked) {
              result1.textContent = stringA.value.slice(Number(numberA1.value), Number(numberB1.value));
            } else if (radioB1.checked) {
              result1.textContent = stringB.value.slice(Number(numberA1.value), Number(numberB1.value));
            } else {
              result.textContent = '当前未选中的任何输入框！';
            }
          };
          break;
        case 14:
          { // 当前选中输入框的行数
            result1.textContent = '';
            if (radioA1.checked) {
              result1.textContent = '当前选中的输入框的行数是：' + stringA.value.split('\n').length;
            } else if (radioB1.checked) {
              result1.textContent = '当前选中的输入框的行数是：' + stringB.value.split('\n').length;
            } else {
              result.textContent = '当前未选中的任何输入框！';
            }
          };
          break;
        case 15:
          { // 使用substr获取选中输入框内容的子字符串，参数为num-a及num-b
            result1.textContent = '';
            if (radioA1.checked) {
              result1.textContent = stringA.value.substr(Number(numberA1.value), Number(numberB1.value));
            } else if (radioB1.checked) {
              result1.textContent = stringB.value.substr(Number(numberA1.value), Number(numberB1.value));
            } else {
              result.textContent = '当前未选中的任何输入框！';
            }
          };
          break;
        case 16:
          { // 把所选输入框中的内容全部转为大写
            result1.textContent = '';
            if (radioA1.checked) {
              result1.textContent = stringA.value.toUpperCase();
            } else if (radioB1.checked) {
              result1.textContent = stringB.value.toUpperCase();
            } else {
              result.textContent = '当前未选中的任何输入框！';
            }
          };
          break;
        case 17:
          { // 把所选输入框中的内容全部转为小写
            result1.textContent = '';
            if (radioA1.checked) {
              result1.textContent = stringA.value.toLowerCase();
            } else if (radioB1.checked) {
              result1.textContent = stringB.value.toLowerCase();
            } else {
              result.textContent = '当前未选中的任何输入框！';
            }
          };
          break;
        case 18:
          { // 把所选输入框中内容的半角空格全部去除
            result1.textContent = '';
            if (radioA1.checked) {
              result1.textContent = stringA.value.split(' ').join('');
            } else if (radioB1.checked) {
              result1.textContent = stringB.value.split(' ').join('');
            } else {
              result.textContent = '当前未选中的任何输入框！';
            }
          };
          break;
        case 19:
          { // 把所选输入框中内容的a全部替换成另外一个输入框中的内容
            result1.textContent = '';
            if (radioA1.checked) {
              result1.textContent = stringA.value.replace(/a/g, stringB.value);
            } else if (radioB1.checked) {
              result1.textContent = stringB.value.replace(/a/g, stringA.value);
            } else {
              result.textContent = '当前未选中的任何输入框！';
            }
          };
          break;
      }
    }

    function checkInput(value) {
      return Number.isNaN(Number(value));
    }

    // section 3
    /*
    实现一个字符串头尾去除空格的函数
    注意需要去除的空格，包括全角、半角空格
    暂时不需要学习和使用正则表达式的方式
    */
    function diyTrim(str) {
      var result = "";
      var start = 0,
        end = str.length - 1;
      // do something

      for (var i = 0; i < str.length; i++) {
        if (str[i] !== ' ' && str[i] !== '　') {
          start = i;
          break;
        }
      }
      for (var i = str.length - 1; i >= 0; i--) {
        if (str[i] !== ' ' && str[i] !== '　') {
          end = i;
          break;
        }
      }

      if (start < end) {
        result = str.slice(start, end + 1);
      } else if (start === end && str[start] !== ' ' && str[start] !== '　' && str[start] !== '') {
        result = str[start];
      } else {
        result = '';
      }
      return result
    }

    // 测试用例
    console.log(diyTrim(' a f b    ')); // ->a f b
    console.log(diyTrim('    ffdaf    ')); // ->ffdaf
    console.log(diyTrim('1    ')); // ->1
    console.log(diyTrim('　　f')); // ->f
    console.log(diyTrim('  　  a f b 　　 ')); // ->a f b
    console.log(diyTrim(' ')); // ->
    console.log(diyTrim('　')); // ->
    console.log(diyTrim('')); // ->

    /*
    去掉字符串str中，连续重复的地方
    */
    function removeRepetition(str) {
      var result = "";

      // do something
      result = replaceRepeat(str);

      return result;
    }

    // 测试用例
    console.log(removeRepetition("aaa")); // ->a
    console.log(removeRepetition("abbba")); // ->aba
    console.log(removeRepetition("aabbaabb")); // ->abab
    console.log(removeRepetition("")); // ->
    console.log(removeRepetition("abc")); // ->abc

    function replaceRepeat(str) {
      for (var i = 0; i < str.length - 1; i++) {
        if (str[i] === str[i + 1]) {
          str = str.replace(str[i] + str[i], str[i]);
          return replaceRepeat(str);
        } else if (i === str.length - 2) {
          return str;
        } else {
          continue;
        }
      }
      return str;
    }

    // section 4
    var tree = {
      "id": 0,
      "name": "root",
      "left": {
        "id": 1,
        "name": "Simon",
        "left": {
          "id": 3,
          "name": "Carl",
          "left": {
            "id": 7,
            "name": "Lee",
            "left": {
              "id": 11,
              "name": "Fate"
            }
          },
          "right": {
            "id": 8,
            "name": "Annie",
            "left": {
              "id": 12,
              "name": "Saber"
            }
          }
        },
        "right": {
          "id": 4,
          "name": "Tony",
          "left": {
            "id": 9,
            "name": "Candy"
          }
        }
      },
      "right": {
        "id": 2,
        "name": "right",
        "left": {
          "id": 5,
          "name": "Carl",
        },
        "right": {
          "id": 6,
          "name": "Carl",
          "right": {
            "id": 10,
            "name": "Kai"
          }
        }
      }
    }

    // 假设id和name均不会重复，根据输入name找到对应的id
    function findIdByName(name) {

    }

    // 假设id和name均不会重复，根据输入id找到对应的name
    function findNameById(id) {

    }

    // 把这个对象中所有的名字以“前序遍历”的方式全部输出到console中
    function getListWithDLR() {

    }

    // 把这个对象中所有的名字以“中序遍历”的方式全部输出到console中
    function getListWithLDR() {

    }

    // 把这个对象中所有的名字以“后序遍历”的方式全部输出到console中
    function getListWithLRD() {

    }

    function BinaryTree() {
      var Node = function (key) {
        this.key = key;
        this.left = null;
        this.right = null;
      }

      var root = null;

      var insertNode = function (node, newNode) {
        if (newNode.key < node.key) {
          if (node.left === null) {
            node.left = newNode;
          } else {
            insertNode(node.left, newNode);
          }
        } else {
          if (node.right === null) {
            node.right = newNode;
          } else {
            insertNode(node.right, newNode);
          }
        }
      }

      this.insert = function (key) {
        var newNode = new Node(key);
        if (root === null) {
          root = newNode;
        } else {
          insertNode(root, newNode);
        }
      }

      var inOrderTraverseNode = function (node, callback) {
        if (node !== null) {
          inOrderTraverseNode(node.left, callback);
          callback(node.key);
          inOrderTraverseNode(node.right, callback);
        }
      }

      this.inOrderTraverse = function (callback) {
        inOrderTraverseNode(root, callback);
      }

      var preOrderTraverseNode = function (node, callback) {
        if (node !== null) {
          callback(node.key);
          preOrderTraverseNode(node.left, callback);
          preOrderTraverseNode(node.right, callback);
        }
      }

      this.preOrderTraverse = function (callback) {
        preOrderTraverseNode(root, callback);
      }

      var postOrderTraverseNode = function (node, callback) {
        if (node !== null) {
          postOrderTraverseNode(node.left, callback);
          postOrderTraverseNode(node.right, callback);
          callback(node.key)
        }
      }

      this.postOrderTraverse = function (callback) {
        postOrderTraverseNode(root, callback);
      }
    }

    var nodes = [8, 3, 10, 1, 6, 14, 4, 7, 13];
    var binaryTree = new BinaryTree();
    nodes.forEach((key) => {
      binaryTree.insert(key);
    });

    var callback = function (key) {
      console.log(key);
    }

    binaryTree.postOrderTraverse(callback);
  </script>
</body>

</html>